<h1 mat-dialog-title>
  Purchase {{coin.symbol}}
</h1>
<div mat-dialog-content>
  <div class="form">
    <span *ngIf="ethBalance">Your ETH balance: {{ethBalance | weiToEth}}</span>
    <mat-form-field class="eth-input">
      <input matInput [disabled]="saving" placeholder="ETH Amount" (blur)="estimateGas(purchaseAmountEth, gweiAmount, gasLimit)" [(ngModel)]="purchaseAmountEth" />
    </mat-form-field>
      Wei: {{gweiAmount}}
      <mat-slider (blur)="estimateGas(purchaseAmountEth, gweiAmount, gasLimit)" class="" [disabled]="saving" [invert]="invert" [max]="100" [min]="1" [step]="1" [thumb-label]="true"
        [(ngModel)]="gweiAmount" [vertical]="false">
      </mat-slider>
    
    <mat-form-field class="eth-input">
      <input matInput [disabled]="saving" placeholder="GAS Limit" [(ngModel)]="gasLimit" />
    </mat-form-field>
    <p>Tx cost: {{getGasCostEth(gasLimit, gweiAmount)}} ETH</p>
    <p><b>You will get: {{getTokenAmount()}} {{coin.symbol}}</b></p>

  </div>
  <div [hidden]="!error" class="errorMessage">
    {{errorMessage}}
  </div>
</div>
<div mat-dialog-actions align="end">
  <button mat-button mat-dialog-close [disabled]="saving" (click)="onNoClick()">
    Cancel
  </button>
  <button mat-raised-button color="primary" (click)="purchaseTokensAsync(purchaseAmountEth, gweiAmount, gasLimit)" [disabled]="saving">
    <span id="spinnerContainer" *ngIf="saving && !saved">
      <mat-spinner [diameter]="20" class="spinner">
      </mat-spinner>
    </span>
    <span *ngIf="!saving && !saved">
      PURCHASE
    </span>
    <span id="iconContainer" *ngIf="saved">
      <mat-icon class="green-icon">done</mat-icon>
    </span>
  </button>
</div>