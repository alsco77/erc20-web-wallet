<h1 mat-dialog-title>
  Purchase {{coin.symbol}}
  <small class="ethBalance" *ngIf="ethBalance">ETH balance: {{ethBalance | weiToEth}}</small>
</h1>
<div mat-dialog-content>
  <div class="form">

    <mat-form-field class="eth-input">
      <input matInput [disabled]="saving" placeholder="ETH Amount" (blur)="estimateGas(purchaseAmountEth, gweiAmount, gasLimit)"
        [(ngModel)]="purchaseAmountEth" />
    </mat-form-field>
    <div class="gwei-amount" fxLayoutAlign="row">
        <span fxFlex="60px">Gwei: {{gweiAmount}}</span>
        
        <mat-slider fxFlex (blur)="estimateGas(purchaseAmountEth, gweiAmount, gasLimit)" class="" [disabled]="saving" [invert]="invert"
          [max]="100" [min]="1" [step]="1" [thumb-label]="true" [(ngModel)]="gweiAmount" [vertical]="false">
        </mat-slider>
    </div>

    <mat-form-field class="eth-input">
      <input matInput [disabled]="saving" placeholder="GAS Limit" [(ngModel)]="gasLimit" />
    </mat-form-field>
    <p class="tx-cost">Tx cost: {{getGasCostEth(gasLimit, gweiAmount)}} ETH</p>
    <p class="token-amount">
      <b>You will get: {{getTokenAmount()}} {{coin.symbol}}</b>
    </p>

  </div>
  <div [hidden]="!error" class="errorMessage">
    {{errorMessage}}
  </div>
</div>
<div mat-dialog-actions align="end">
  <button mat-button mat-dialog-close [disabled]="saving" (click)="onNoClick()">
    Cancel
  </button>
  <button mat-raised-button color="primary" (click)="purchaseTokensAsync(purchaseAmountEth, gweiAmount, gasLimit)" [disabled]="saving">
    <span id="spinnerContainer" *ngIf="saving && !saved">
      <mat-spinner [diameter]="20" class="spinner">
      </mat-spinner>
    </span>
    <span *ngIf="!saving && !saved">
      PURCHASE
    </span>
    <span id="iconContainer" *ngIf="saved">
      <mat-icon class="green-icon">done</mat-icon>
    </span>
  </button>
</div>